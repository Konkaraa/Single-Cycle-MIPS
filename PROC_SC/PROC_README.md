To complete the processor, the final stage (Top Module) integrates three main subsystems:

the Datapath stage,

the Control stage,

and the shared memory (RAM).

RAM Structure
The RAM used in the Datapath consists of:

A Clock signal,

Two 11-bit input signals (inst_addr and data_addr) defining the address where the instruction or data is located in the ROM,

A 1-bit input signal (data_we) that enables writing to memory,

A 32-bit input signal (data_din) that provides the data to be written,

Two 32-bit output signals (inst_dout and data_dout) that return instruction and data outputs, respectively.

Connections with Datapath and Control
The 32-bit output (PC_Out) from the Instruction Fetch (IF) stage of the Datapath is connected to the inst_addr input of the RAM. Bits [12:2] of this signal are selected, ignoring the two least significant bits since they refer to the byte within a word.

The RAM's inst_dout output is used as:

An input to the Control unit, from which the Opcode (bits [31:26]) is extracted,

An input to the Datapath, where bits [25:0] are used as the Instr input to the Instruction Decode (DECODE) stage.

The output signals from the MEM stage of the Datapath are connected as follows:

MM_WrData → data_din

MM_Addr → data_addr (again selecting bits [12:2])

MM_WrEn → data_we

Processor Completion
Finally, the control signals generated by the Control unit are connected to the respective parts of the Datapath, directing the operation of its subsystems (ALU, multiplexers, memory writes, etc.).
With these connections, all components are fully integrated, completing the implementation of the Processor as required by the design specification.